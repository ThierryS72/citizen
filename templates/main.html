<div ui-view="issue"></div>

<div>
  <ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#home">Home</a></li>
    <!--<li><a data-toggle="tab" ui-sref="issue">Rechercher issue</a></a></li>-->
    <li><a data-toggle="tab" ui-sref="report-issue">Déclarer un problème</a></li>
  </ul>
</div>

</div id="ui" class="panel panel-default" ng-controller="SideListCtrl  as s ">
<span ng-dropdown-multiselect="" options="s.issuesFilter" selected-model="s.issuesFiltered" translation-texts="s.issuesFilterTexts" extra-settings="s.issuesFilterSelectAllSettings">
</span>
</div>

<div class="row" ng-if="(issue.listIssues.length > 0)">
    <section class="col-md-4">
        <div class="list-group alert alert-success" ng-repeat="issue in issue.listIssues | limitTo: issue.limit">
        <a class="list-group-item" ui-sref="details({ id:issue.id })" ui-sref-active="active">
            <div class="alert alert-warning">
            <span class="small pull-right">Last update: {{ issue.updatedAt }}</span>
            <span class="small">Status: {{ issue.state }}</span>
            <h4 class="list-group-item-heading">Issue</h4>
            <p class="list-group-item-text">{{ issue.description }}</p>
            <img src="{{ issue.imageUrl }}" width="50" height="50"/>
            </div>
        </a>
        </div>
        <button ng-click="issue.displayMore()" class="btn btn-primary">Afficher davantage</button>
    </section>
    <div ui-view="map"></div>
    <!--
    <section class="col-md-8" ng-controller="MapCtrl as map">
      <leaflet width="100%" height="480px" defaults="map.defaults" lf-center="map.center" markers="map.markers"></leaflet>
    </section>
    -->
</div>
<!--
<div class="row">
  <table class="table
  table-bordered
  table-striped
  table-hover"
  ng-if="issue.listIssues.length > 0">
    <tr>
      <td>Description</td><td>State</td><td>Mis à jour</td><td>Créé le</td><td>Image</td>
    </tr>
    <tr class="issue" ng-repeat="issue in issue.listIssues">
      <td>{{ issue.description }}</td>
      <td>{{ issue.state }}</td>
      <td>{{ issue.updatedAt }}</td>
      <td>{{ issue.createdAt }}</td>
      <td><img src="{{ issue.imageUrl }}" width="100" height="100"/></td>
    </tr>
  </table>
  -->
</div>